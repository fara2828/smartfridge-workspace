import * as AuthSession from 'expo-auth-session';
import { Alert } from 'react-native';
import KakaoLogin from '@react-native-seoul/kakao-login';
import NaverLogin from 'react-native-naver-login';
import * as GoogleSignIn from 'expo-google-sign-in';

export const handleLogin = async (platform, username, password, navigation) => {
    if (platform === 'Kakao') {
        // // 카카오 로그인 API 호출
        // const token = await KakaoLogins.login();
        // //로그인하기
        // const profile = await KakaoLogins.getProfile();
        // //프로필 가져오기
        // console.log(token, profile);

    } else if (platform === 'Naver') {
        // 네이버 로그인 API 호출
    
    } else if (platform === 'Google') {
        // 구글 로그인 API 호출
        try {
            // Google login API call using expo-auth-session
            const redirectUri = AuthSession.makeRedirectUri({
                native: 'your.app://redirect',
                useProxy: true,
            });

            const result = await AuthSession.startAsync({
                authUrl: `https://accounts.google.com/o/oauth2/auth?redirect_uri=${encodeURIComponent(redirectUri)}&response_type=code&client_id=${YOUR_GOOGLE_CLIENT_ID}&scope=profile email`,
            });
=
            if (result.type === 'success') {
                console.log('Google Sign in:', result.params);
            } else {
                console.log('Google Sign in was cancelled');
            }

        } catch ({ message }) {
            console.log('login: Error:', message);
        }
    }

    // 성공적으로 로그인한 경우, 다음 페이지로 이동
    navigation.navigate('MyPage');

};