import * as React from 'react';
import * as WebBrowser from 'expo-web-browser';
import * as AuthSession from 'expo-auth-session';


WebBrowser.maybeCompleteAuthSession();
const useProxy = true;
export const handleLogin = async (platform, username, password, navigation) => {
  if (platform === 'Kakao') {
      // Kakao login logic here
  } else if (platform === 'Naver') {
      // Naver login logic here
  } else if (platform === 'Google') {
      try {
          const client_id = '254999790304-qj2jpp2crdvd635s5s6lqqbm5fnceuup.apps.googleusercontent.com'; // Replace with your client id
          const redirectUri = AuthSession.makeRedirectUri({
              native: 'your.app://redirect',
          });

          const result = await AuthSession.startAsync({
              authUrl: 'https://accounts.google.com/o/oauth2/auth?&client_id=${client_id}&redirect_uri=https://localhost:3000&scope=https://www.googleapis.com/auth/userinfo.email'
          });

          if (result.type === 'success') {
              console.log('Google Sign in:', result.params);
              navigation.navigate('MyPage');
          } else {
              console.log('Google Sign in was cancelled');
          }
      } catch (error) {
          console.log('login: Error:', error.message);
      }
  }
};